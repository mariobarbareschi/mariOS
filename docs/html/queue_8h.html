<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>mariOS: include/queue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">mariOS
   &#160;<span id="projectnumber">0.1</span>
   </div>
   <div id="projectbrief">mariOS Answers the Request for an Implementation of an OS</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">queue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="marios__config_8h_source.html">marios_config.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="mari_o_s_8h_source.html">mariOS.h</a>&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for queue.h:</div>
<div class="dyncontent">
<div class="center"><img src="queue_8h__incl.png" border="0" usemap="#include_2queue_8h" alt=""/></div>
<map name="include_2queue_8h" id="include_2queue_8h">
<area shape="rect" id="node2" href="marios__config_8h.html" title="marios_config.h" alt="" coords="5,155,97,181"/>
<area shape="rect" id="node4" href="mari_o_s_8h.html" title="mariOS.h" alt="" coords="114,80,178,107"/>
<area shape="rect" id="node5" href="port_8h.html" title="port.h" alt="" coords="122,155,170,181"/>
</map>
</div>
</div>
<p><a href="queue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structqueue__t.html">queue_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aff6e77e5eb7df3c39e46852e86dd458f"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structqueue__t.html">queue_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a></td></tr>
<tr class="separator:aff6e77e5eb7df3c39e46852e86dd458f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a4385d73a50ac726301719a41792283f1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a4385d73a50ac726301719a41792283f1">mariOS_queue_status_t</a> { <a class="el" href="queue_8h.html#a4385d73a50ac726301719a41792283f1a83519493888e56b0990dff2d46ab9127">MARIOS_QUEUE_LOCKED</a>, 
<a class="el" href="queue_8h.html#a4385d73a50ac726301719a41792283f1a9bffddce8f027f54c735147b952a525a">MARIOS_QUEUE_UNLOCKED</a>
 }</td></tr>
<tr class="separator:a4385d73a50ac726301719a41792283f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9a509b7a9a7c776d31c2e84252e553f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a> { <a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553fa7acf364e5312f230d838e5558e7e9d23">MARIOS_BLOCKING_QUEUE_OP</a>, 
<a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553fad82f37cefe0c3f7d1c5b0ac99adca59c">MARIOS_NONBLOCKING_QUEUE_OP</a>
 }</td></tr>
<tr class="separator:ae9a509b7a9a7c776d31c2e84252e553f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef20e5d045b502d6959489d3e82a032d"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a> { <a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da1119159d2fd835d28c1870ab6f594bbd">MARIOS_QUEUE_SUCCESS_OP</a>, 
<a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032dadc4ad8fd19fab26af6288a312d52b5e7">MARIOS_QUEUE_BUSY_OP</a>, 
<a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da3f8b7b8bec033117b660862a40639384">MARIOS_QUEUE_FULL_OP</a>, 
<a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da908d91a5ae5f77cd259b059c2f0d2e47">MARIOS_QUEUE_EMPTY_OP</a>
 }</td></tr>
<tr class="separator:aef20e5d045b502d6959489d3e82a032d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:acd6684134d243b3e027d3d490e0936ba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#acd6684134d243b3e027d3d490e0936ba">createQueue</a> (unsigned int size)</td></tr>
<tr class="separator:acd6684134d243b3e027d3d490e0936ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9d276ceb282ab1c8fb136f9c6374421"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#ad9d276ceb282ab1c8fb136f9c6374421">enqueue</a> (<a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *queue, int8_t *msg, unsigned int size, <a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a> blocking)</td></tr>
<tr class="memdesc:ad9d276ceb282ab1c8fb136f9c6374421"><td class="mdescLeft">&#160;</td><td class="mdescRight">The enqueue function tries to put a message onto the specified \ queue. It takes in input a message and its size (in bytes) and enqueue the message if the queue is not locked for writing operation and if the queue has enough space to contain the message. Whenever these two conditions are not met, the behavior of the function depends on the value of  passed.  <a href="#ad9d276ceb282ab1c8fb136f9c6374421">More...</a><br /></td></tr>
<tr class="separator:ad9d276ceb282ab1c8fb136f9c6374421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28d45eca570534d74c9e148f9d26fe99"><td class="memItemLeft" align="right" valign="top"><a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a28d45eca570534d74c9e148f9d26fe99">dequeue</a> (<a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *queue, int8_t *msg, unsigned int size, <a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a> blocking)</td></tr>
<tr class="memdesc:a28d45eca570534d74c9e148f9d26fe99"><td class="mdescLeft">&#160;</td><td class="mdescRight">The dequeue function tries to pull a message from the specified \ queue. It takes in input the size of the message to read and the area on which store it. The message is read from the queue if it is not locked for reading operations and if the queue contains at least the amouut of requested data. Whenever these two conditions are not met, the behavior of the function depends on the value of  passed.  <a href="#a28d45eca570534d74c9e148f9d26fe99">More...</a><br /></td></tr>
<tr class="separator:a28d45eca570534d74c9e148f9d26fe99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4335c31b2e37a28463ef4acdc59602fb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="queue_8h.html#a4335c31b2e37a28463ef4acdc59602fb">reset_queue</a> (<a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *queue)</td></tr>
<tr class="separator:a4335c31b2e37a28463ef4acdc59602fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="aff6e77e5eb7df3c39e46852e86dd458f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff6e77e5eb7df3c39e46852e86dd458f">&#9670;&nbsp;</a></span>mariOS_queue</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structqueue__t.html">queue_t</a>  <a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This struct is used to typedef the mariOS queue. It is a cyclic queue with pointers to the head and tail. The structure contains two arrays containing suspended task reference for enqueue and dequeue operations. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="ae9a509b7a9a7c776d31c2e84252e553f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9a509b7a9a7c776d31c2e84252e553f">&#9670;&nbsp;</a></span>mariOS_blocking_queue_op_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enum is used to each time the enqueue and dequeue function are invoked. By passing MARIOS_BLOCKING_QUEUE_OP, the queue operation will suspend the task if it cannot be completed. Otherwise, if MARIOS_NONBLOCKING_QUEUE_OP is passed, the queue operation returns the condition () why it cannot be completed. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae9a509b7a9a7c776d31c2e84252e553fa7acf364e5312f230d838e5558e7e9d23"></a>MARIOS_BLOCKING_QUEUE_OP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="ae9a509b7a9a7c776d31c2e84252e553fad82f37cefe0c3f7d1c5b0ac99adca59c"></a>MARIOS_NONBLOCKING_QUEUE_OP&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{</div><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553fa7acf364e5312f230d838e5558e7e9d23">MARIOS_BLOCKING_QUEUE_OP</a>,</div><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553fad82f37cefe0c3f7d1c5b0ac99adca59c">MARIOS_NONBLOCKING_QUEUE_OP</a>,</div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;} <a class="code" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a>;</div><div class="ttc" id="queue_8h_html_ae9a509b7a9a7c776d31c2e84252e553fa7acf364e5312f230d838e5558e7e9d23"><div class="ttname"><a href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553fa7acf364e5312f230d838e5558e7e9d23">MARIOS_BLOCKING_QUEUE_OP</a></div><div class="ttdef"><b>Definition:</b> queue.h:36</div></div>
<div class="ttc" id="queue_8h_html_ae9a509b7a9a7c776d31c2e84252e553fad82f37cefe0c3f7d1c5b0ac99adca59c"><div class="ttname"><a href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553fad82f37cefe0c3f7d1c5b0ac99adca59c">MARIOS_NONBLOCKING_QUEUE_OP</a></div><div class="ttdef"><b>Definition:</b> queue.h:37</div></div>
<div class="ttc" id="queue_8h_html_ae9a509b7a9a7c776d31c2e84252e553f"><div class="ttname"><a href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a></div><div class="ttdeci">mariOS_blocking_queue_op_t</div><div class="ttdef"><b>Definition:</b> queue.h:34</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aef20e5d045b502d6959489d3e82a032d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aef20e5d045b502d6959489d3e82a032d">&#9670;&nbsp;</a></span>mariOS_queue_op_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enum lists the possible outcomes of queue operations. MARIOS_QUEUE_SUCCESS_OP indicates a success operation MARIOS_QUEUE_BUSY_OP, MARIOS_QUEUE_FULL_OP and MARIOS_QUEUE_EMPTY_OP indicates, respectively, that the operation cannot be completed because the queue is busy upon another operation, is full (nothing can be enqueued) or is empty (nothing can be dequeued); they can be returned if and only if MARIOS_NONBLOCKING_QUEUE_OP is used when  and  functions are invoked. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="aef20e5d045b502d6959489d3e82a032da1119159d2fd835d28c1870ab6f594bbd"></a>MARIOS_QUEUE_SUCCESS_OP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aef20e5d045b502d6959489d3e82a032dadc4ad8fd19fab26af6288a312d52b5e7"></a>MARIOS_QUEUE_BUSY_OP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aef20e5d045b502d6959489d3e82a032da3f8b7b8bec033117b660862a40639384"></a>MARIOS_QUEUE_FULL_OP&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="aef20e5d045b502d6959489d3e82a032da908d91a5ae5f77cd259b059c2f0d2e47"></a>MARIOS_QUEUE_EMPTY_OP&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da1119159d2fd835d28c1870ab6f594bbd">MARIOS_QUEUE_SUCCESS_OP</a>,</div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <a class="code" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032dadc4ad8fd19fab26af6288a312d52b5e7">MARIOS_QUEUE_BUSY_OP</a>,</div><div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <a class="code" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da3f8b7b8bec033117b660862a40639384">MARIOS_QUEUE_FULL_OP</a>,</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <a class="code" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da908d91a5ae5f77cd259b059c2f0d2e47">MARIOS_QUEUE_EMPTY_OP</a></div><div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;} <a class="code" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a>;</div><div class="ttc" id="queue_8h_html_aef20e5d045b502d6959489d3e82a032da908d91a5ae5f77cd259b059c2f0d2e47"><div class="ttname"><a href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da908d91a5ae5f77cd259b059c2f0d2e47">MARIOS_QUEUE_EMPTY_OP</a></div><div class="ttdef"><b>Definition:</b> queue.h:55</div></div>
<div class="ttc" id="queue_8h_html_aef20e5d045b502d6959489d3e82a032d"><div class="ttname"><a href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a></div><div class="ttdeci">mariOS_queue_op_status_t</div><div class="ttdef"><b>Definition:</b> queue.h:50</div></div>
<div class="ttc" id="queue_8h_html_aef20e5d045b502d6959489d3e82a032da3f8b7b8bec033117b660862a40639384"><div class="ttname"><a href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da3f8b7b8bec033117b660862a40639384">MARIOS_QUEUE_FULL_OP</a></div><div class="ttdef"><b>Definition:</b> queue.h:54</div></div>
<div class="ttc" id="queue_8h_html_aef20e5d045b502d6959489d3e82a032dadc4ad8fd19fab26af6288a312d52b5e7"><div class="ttname"><a href="queue_8h.html#aef20e5d045b502d6959489d3e82a032dadc4ad8fd19fab26af6288a312d52b5e7">MARIOS_QUEUE_BUSY_OP</a></div><div class="ttdef"><b>Definition:</b> queue.h:53</div></div>
<div class="ttc" id="queue_8h_html_aef20e5d045b502d6959489d3e82a032da1119159d2fd835d28c1870ab6f594bbd"><div class="ttname"><a href="queue_8h.html#aef20e5d045b502d6959489d3e82a032da1119159d2fd835d28c1870ab6f594bbd">MARIOS_QUEUE_SUCCESS_OP</a></div><div class="ttdef"><b>Definition:</b> queue.h:52</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a4385d73a50ac726301719a41792283f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4385d73a50ac726301719a41792283f1">&#9670;&nbsp;</a></span>mariOS_queue_status_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="queue_8h.html#a4385d73a50ac726301719a41792283f1">mariOS_queue_status_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This enum is used to set the queue status to lock or unlock. Whevener the queue is locked in reading, no dequeue operations are permitted. Conversely, whevener the queue is locked in writing, no enqueue operations are permitted. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a4385d73a50ac726301719a41792283f1a83519493888e56b0990dff2d46ab9127"></a>MARIOS_QUEUE_LOCKED&#160;</td><td class="fielddoc"></td></tr>
<tr><td class="fieldname"><a id="a4385d73a50ac726301719a41792283f1a9bffddce8f027f54c735147b952a525a"></a>MARIOS_QUEUE_UNLOCKED&#160;</td><td class="fielddoc"></td></tr>
</table>
<div class="fragment"><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;{</div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;        <a class="code" href="queue_8h.html#a4385d73a50ac726301719a41792283f1a83519493888e56b0990dff2d46ab9127">MARIOS_QUEUE_LOCKED</a>,</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;        <a class="code" href="queue_8h.html#a4385d73a50ac726301719a41792283f1a9bffddce8f027f54c735147b952a525a">MARIOS_QUEUE_UNLOCKED</a>,</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;} <a class="code" href="queue_8h.html#a4385d73a50ac726301719a41792283f1">mariOS_queue_status_t</a>;</div><div class="ttc" id="queue_8h_html_a4385d73a50ac726301719a41792283f1a9bffddce8f027f54c735147b952a525a"><div class="ttname"><a href="queue_8h.html#a4385d73a50ac726301719a41792283f1a9bffddce8f027f54c735147b952a525a">MARIOS_QUEUE_UNLOCKED</a></div><div class="ttdef"><b>Definition:</b> queue.h:24</div></div>
<div class="ttc" id="queue_8h_html_a4385d73a50ac726301719a41792283f1"><div class="ttname"><a href="queue_8h.html#a4385d73a50ac726301719a41792283f1">mariOS_queue_status_t</a></div><div class="ttdeci">mariOS_queue_status_t</div><div class="ttdef"><b>Definition:</b> queue.h:21</div></div>
<div class="ttc" id="queue_8h_html_a4385d73a50ac726301719a41792283f1a83519493888e56b0990dff2d46ab9127"><div class="ttname"><a href="queue_8h.html#a4385d73a50ac726301719a41792283f1a83519493888e56b0990dff2d46ab9127">MARIOS_QUEUE_LOCKED</a></div><div class="ttdef"><b>Definition:</b> queue.h:23</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="acd6684134d243b3e027d3d490e0936ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd6684134d243b3e027d3d490e0936ba">&#9670;&nbsp;</a></span>createQueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a>* createQueue </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function initialize a mariOS_queue structure with a specified size.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">size</td><td>is the queue size in bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the pointer to the mariOS_queue created </dd></dl>

</div>
</div>
<a id="a28d45eca570534d74c9e148f9d26fe99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a28d45eca570534d74c9e148f9d26fe99">&#9670;&nbsp;</a></span>dequeue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a> dequeue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a>&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The dequeue function tries to pull a message from the specified \ queue. It takes in input the size of the message to read and the area on which store it. The message is read from the queue if it is not locked for reading operations and if the queue contains at least the amouut of requested data. Whenever these two conditions are not met, the behavior of the function depends on the value of  passed. </p>
<p>If MARIOS_BLOCKING_QUEUE_OP is passed and the queue does not contain the message to dequeue, the function suspend the task that will be eventually resumed once the queue has been enqueued by another task. Otherwise, if the queue is just locked for reading operation, the task is simply preempted and will be eventually rescheduled.</p>
<p>If MARIOS_NONBLOCKING_QUEUE_OP is passed, the function will return error conditions related to the condition that impedes the dequeue. Indeed, two possible conditions may happen:</p><ul>
<li>MARIOS_QUEUE_BUSY_OP, which indicates that the queue is blocked for reading operations.</li>
<li>MARIOS_QUEUE_EMPTY_OP, which indicates that the queue does not contain requested message.</li>
</ul>
<p>Conversely, if the dequeue succeeds, no matter if blocking or not, the function returns MARIOS_QUEUE_SUCCESS_OP.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">queue</td><td>is the mariOS_queue handler </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">msg</td><td>is the pointer on which the message will be stored </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is the message size (in bytes) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocking</td><td>specifies if the dequeue is blocking or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the operation success or failure </dd></dl>

</div>
</div>
<a id="ad9d276ceb282ab1c8fb136f9c6374421"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9d276ceb282ab1c8fb136f9c6374421">&#9670;&nbsp;</a></span>enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="queue_8h.html#aef20e5d045b502d6959489d3e82a032d">mariOS_queue_op_status_t</a> enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *&#160;</td>
          <td class="paramname"><em>queue</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int8_t *&#160;</td>
          <td class="paramname"><em>msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="queue_8h.html#ae9a509b7a9a7c776d31c2e84252e553f">mariOS_blocking_queue_op_t</a>&#160;</td>
          <td class="paramname"><em>blocking</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The enqueue function tries to put a message onto the specified \ queue. It takes in input a message and its size (in bytes) and enqueue the message if the queue is not locked for writing operation and if the queue has enough space to contain the message. Whenever these two conditions are not met, the behavior of the function depends on the value of  passed. </p>
<p>If MARIOS_BLOCKING_QUEUE_OP is passed and the queue cannot contain the whole message to enqueue, the function suspend the task that will be eventually resumed once the queue has been dequeued by another task. Otherwise, if the queue is just locked for writing operation, the task is simply preempted and will be eventually rescheduled.</p>
<p>If MARIOS_NONBLOCKING_QUEUE_OP is passed, the function will return error conditions related to the condition that impedes the enqueue. Indeed, two possible conditions may happen:</p><ul>
<li>MARIOS_QUEUE_BUSY_OP, which indicates that the queue is blocked for writing operations.</li>
<li>MARIOS_QUEUE_FULL_OP, which indicates that the queue cannot contain the whole message.</li>
</ul>
<p>Conversely, if the enqueue succeeds, no matter if blocking or not, the function returns MARIOS_QUEUE_SUCCESS_OP.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">queue</td><td>is the mariOS_queue handler </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>is the pointer to the message that has to be enqueued </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">size</td><td>is the message size (in bytes) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">blocking</td><td>specifies if the enqueue is blocking or not </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the operation success or failure </dd></dl>

</div>
</div>
<a id="a4335c31b2e37a28463ef4acdc59602fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4335c31b2e37a28463ef4acdc59602fb">&#9670;&nbsp;</a></span>reset_queue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void reset_queue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="queue_8h.html#aff6e77e5eb7df3c39e46852e86dd458f">mariOS_queue</a> *&#160;</td>
          <td class="paramname"><em>queue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The function restore the queue in a pristine state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">queue</td><td>is the queue handler </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jul 10 2018 23:14:07 for mariOS by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
